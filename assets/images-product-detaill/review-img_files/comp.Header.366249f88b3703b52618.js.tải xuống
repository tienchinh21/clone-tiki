(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[175],{j035:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return rt}));var o=n("etRO"),i=n("4jfz"),r=n("mHfP"),a=n("1U+3"),c=n("DY1Z"),s=n("mXGw"),u=n.n(s),l=n("yi/c"),f=n("n8BF"),d=n("6jNK"),p=n("UutA"),h=u.a.createElement;function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(c.a)(t);if(e){var i=Object(c.a)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Object(a.a)(this,n)}}var m=d.Link,y=p.default.div.withConfig({displayName:"Bottom__Root",componentId:"sc-azeq0g-0"})(["position:relative;z-index:1;.tiki-seller{color:white;font-size:12px;margin-bottom:12px;height:22px;border-radius:10px;background-color:rgba(255,255,255,0.25);padding:0 8px;display:flex;align-items:center;.icon{width:12px;height:12px;margin-right:4px;}.text{line-height:16px;margin-top:1px;}}"]),v=function(t){Object(r.a)(n,t);var e=g(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props.freeShipHomeHeader,e=void 0===t?{}:t,n=e.url,o=void 0===n?"":n,i=e.image_url,r=void 0===i?"":i,a=e.width,c=void 0===a?"auto":a,s=e.height,u=void 0===s?14:s;return h(y,null,h(l.a,{style:{position:"relative",display:"flex",justifyContent:"space-between"}},r&&h(m,{href:o},h("a",{href:o,style:{position:"absolute",top:0}},h("img",{src:r,alt:"free-ship-badge",height:u,width:c}))),h(f.a,null),h("a",{className:"tiki-seller",href:"/khuyen-mai/ban-hang-cung-tiki?src=desktop_header"},h("img",{className:"icon",src:"".concat("https://frontend.tikicdn.com/_desktop-next","/static/img/icon-seller.svg")}),h("span",{className:"text"},"B\xe1n h\xe0ng c\xf9ng Tiki"))))}}]),n}(s.Component),w=n("m6w3"),b=n("JiVo"),x=n("Qv8S"),S=n("5UAf"),O=n("edSL"),j=n.n(O),k=n("qkBe"),_=n.n(k),R=n("/m4v"),I=n("slGX"),C=n("IF/j"),D=n("2SVy"),q=n("13N5"),N=u.a.createElement;function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){Object(w.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(c.a)(t);if(e){var i=Object(c.a)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Object(a.a)(this,n)}}var z=d.Router,V=p.default.div.withConfig({displayName:"FormSearch__Root",componentId:"sc-1fwg3wo-0"})(["flex:1;"]),H=p.default.div.withConfig({displayName:"FormSearch__Form",componentId:"sc-1fwg3wo-1"})(["width:100%;display:flex;position:relative;box-shadow:0 1px 2px 0 rgba(98,98,98,0.5);"]),B=p.default.input.withConfig({displayName:"FormSearch__Input",componentId:"sc-1fwg3wo-2"})(["border:0px;padding:0 12px;font-size:13px;border-radius:2px 0 0 2px;flex:1;outline:none;&::placeholder{color:#787878;font-size:13px;}"]),A=p.default.button.withConfig({displayName:"FormSearch__Button",componentId:"sc-1fwg3wo-3"})(["cursor:pointer;border:0px;width:120px;background:#0d5cb6;height:40px;border-radius:0 2px 2px 0;color:white;font-size:13px;font-weight:500;outline:none;display:flex;align-items:center;justify-content:center;.icon-search{width:20px;height:20px;margin:0 8px 0 0;}.tikicon{margin-right:7px;}"]),K=function(t){Object(r.a)(n,t);var e=E(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).timeout=!1,t.state={isCategoryPage:!1,isSearchInCategory:!1,searchAutocompleteVisible:!1,suggestion:[],q:"",suggestionSelectedIndex:-1},t.inputRef=Object(s.createRef)(),t.onFocus=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){t.props.onShowOverlay();var n=t.state.q;t.props.getSuggestion(n),t.setState({searchAutocompleteVisible:!0})}else setTimeout((function(){t.setState({searchSuggestionVisible:!1,searchAutocompleteVisible:!1}),t.props.onShowOverlay(!1)}),e?0:200)},t.startFetchSuggestion=function(e){t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.props.getSuggestion(e)}),0)},t.handleInputChange=function(e){var n=e.target.value;t.setState({q:n}),t.startFetchSuggestion(n)},t.setSelectedKey=function(e,n){n.preventDefault();var o=t.state,i=o.q,r=o.suggestionSelectedIndex,a=t.props.suggestionData.data,c=void 0===a?[]:a,s=c.length;if(i){var u;if("up"==e&&r--,"down"==e&&r++,r<0?r=s-1:r>=s&&(r=0),"undefined"!==typeof c[r])i=null===c||void 0===c||null===(u=c[r])||void 0===u?void 0:u.keyword;t.setState({suggestionSelectedIndex:r,q:i})}},t.handleKeyDown=function(e){var n;if("Enter"===e.key)return t.submit(),void(null===(n=e.target)||void 0===n||n.blur());switch(t.setState({suggestionSelectedIndex:-1}),e.keyCode){case 38:return t.setSelectedKey("up",e);case 40:return t.setSelectedKey("down",e)}},t.countSuggestion=function(t){var e=0;return Object.keys(t).map((function(n){e+=t[n].length})),e},t.submit=function(e){var n,o=t.state,i=o.q,r=o.searchSuggestionVisible,a=o.suggestion,c=o.suggestionSelectedIndex,s=t.props.suggestionData.data;if("string"===typeof i&&""!==i){var u=encodeURIComponent(i);Object(I.e)("send","event","Search","Submission",JSON.stringify({type:"submission",platform:"desktop",autocomplete_size:r?a.length:0,keyword:i})),Object(S.d)({viewId:"navigation_search_submit",viewContent:{click_data:{keyword:i}}},t.props.dispatch,e);var l="/search?q=".concat(u);if(t.state.isSearchInCategory&&(l="".concat(window.location.pathname,"?q=").concat(u)),-1!==c&&null!==(n=s[c])&&void 0!==n&&n.url){var f;if(l=null===(f=s[c])||void 0===f?void 0:f.url,window&&window.location){var d;if(l.startsWith(null===(d=window.location)||void 0===d?void 0:d.origin))return void z.pushRoute(l);window.location=l}}else{var p={title:i,type:"keyword",url:l},h=JSON.parse(localStorage.getItem("search-keyword"));h?(h=(h=[p].concat(Object(b.a)(h))).map((function(t){return F(F({},t),{},{title:t.title.replace(/ +(?= )/g,"").trim()})})),h=_()(h,"title")):h=[p],localStorage.setItem("search-keyword",JSON.stringify(h)),"undefined"!==typeof localStorage&&(localStorage.setItem("direct-flag",1),localStorage.setItem("submitSearchUnix",(new Date).getTime())),window&&window.location&&(z.pushRoute(l),t.onFocus(!1))}}},t.onSuggesstionClick=function(e){t.setState({q:e})},t.onSuggestionHover=function(){t.setState({suggestionSelectedIndex:-1})},t.toggle=function(){t.setState({isSearchInCategory:!t.state.isSearchInCategory})},t.handleBlur=function(e){t.inputRef&&!t.inputRef.current.contains(e.target)&&t.onFocus(!1)},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){if(window&&window.location){var t=Object(C.n)("q",window.location.href);"string"===typeof t&&""!==t&&this.setState({q:t}),this.props.getSuggestion(t||"")}window.location.pathname.match(/\/.*\/c.*/g)&&this.setState({isCategoryPage:!0}),document.addEventListener("mousedown",this.handleBlur)}},{key:"componentDidUpdate",value:function(t){if(t.query!==this.props.query){var e;this.onFocus(!1);var n=(null===(e=this.props.query)||void 0===e?void 0:e.q)||"";""!==n&&this.setState({q:n})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleBlur)}},{key:"render",value:function(){var t=this,e=this.state,n=e.searchAutocompleteVisible,o=e.q,i=e.suggestionSelectedIndex;return N(V,null,N(H,{ref:this.inputRef},N(B,{"data-view-id":"main_search_form_input",type:"text",onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onFocus:function(){return t.onFocus()},value:o,placeholder:"T\xecm s\u1ea3n ph\u1ea9m, danh m\u1ee5c hay th\u01b0\u01a1ng hi\u1ec7u mong mu\u1ed1n ..."}),N(A,{onClick:this.submit,"data-view-id":"main_search_form_button"},N("img",{className:"icon-search",src:D.d.searchIcon}),"T\xecm Ki\u1ebfm"),N(q.a,{visible:n,q:o,suggestionSelectedIndex:i})))}}]),n}(s.Component),L=Object(R.b)((function(t){return{query:j()(t,"catalog.query"),categoryName:j()(t,"catalog.categoryData.name"),suggestionData:j()(t,"searchSuggestion.data")||{}}}),(function(t){return{getSuggestion:function(){return t(x.b.apply(void 0,arguments))},dispatch:t}}))(K),T=p.default.div.withConfig({displayName:"style__Logo",componentId:"sc-3sdkaq-0"})(["display:flex;align-items:flex-center;justify-content:space-between;flex:1;.tiki-logo{width:60px;height:40px;display:block;img{width:100%;height:100%;}}.icon-tiki-now{width:134px;height:44px;display:block;> img{width:100%;height:100%;}}"]),U=u.a.createElement;function J(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(c.a)(t);if(e){var i=Object(c.a)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Object(a.a)(this,n)}}var M=d.Link,W=function(t){Object(r.a)(n,t);var e=J(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return U(T,null,U(M,{route:"/"},U("a",{href:"/","data-view-id":"header_main_logo",className:"tiki-logo"},U("img",{src:D.d.logo,alt:"tiki-logo"}))))}}]),n}(s.Component),G=n("HaRm"),X=u.a.createElement;function Q(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(c.a)(t);if(e){var i=Object(c.a)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Object(a.a)(this,n)}}var Y=p.default.div.withConfig({displayName:"Middle__Wrap",componentId:"sc-vop1h1-0"})(["display:flex;padding:16px 0 10px 0;height:auto;position:relative;z-index:2;align-items:center;.logo-menu{display:flex;align-items:flex-start;flex-basis:190px;flex-shrink:0;margin-right:16px;}"]),Z=p.default.div.withConfig({displayName:"Middle__LeftContainer",componentId:"sc-vop1h1-1"})(["display:flex;flex:1;align-items:center;"]),$=function(t){Object(r.a)(n,t);var e=Q(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props.onShowOverlay;return X(l.a,null,X(Y,null,X(Z,null,X("div",{className:"logo-menu"},X(W,null)),X(L,{onShowOverlay:t})),X(G.a,null)))}}]),n}(s.Component),tt=n("y6OP"),et=p.default.header.withConfig({displayName:"style__Header",componentId:"sc-q53692-0"})(["position:relative;background:",";z-index:999;&.main-header-sticky{left:0;position:fixed;top:0;width:100%;}*{letter-spacing:normal;}"],tt.a.vividBlue),nt=p.default.div.withConfig({displayName:"style__Overlay",componentId:"sc-q53692-1"})(["width:100%;height:100%;position:fixed;top:0;left:0;background:rgba(0,0,0,0.53);z-index:998;"]),ot=u.a.createElement;function it(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(c.a)(t);if(e){var i=Object(c.a)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Object(a.a)(this,n)}}var rt=function(t){Object(r.a)(n,t);var e=it(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={overlayVisible:!1},t.onShowOverlay=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.setState({overlayVisible:e})},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props.freeShipHomeHeader,e=this.state.overlayVisible;return ot(s.Fragment,null,ot(et,{id:"main-header"},ot($,{onShowOverlay:this.onShowOverlay}),ot(v,{freeShipHomeHeader:t})),e&&ot(nt,null))}}]),n}(s.Component)}}]);