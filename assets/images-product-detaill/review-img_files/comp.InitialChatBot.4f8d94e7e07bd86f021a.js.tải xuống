(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[184],{"5rP/":function(t,e,n){"use strict";n.r(e);var o=n("uEoR"),r=n("/dBk"),a=n.n(r),i=n("qd51"),c=n("etRO"),u=n("4jfz"),s=n("mHfP"),l=n("1U+3"),d=n("DY1Z"),p=n("mXGw"),f=n.n(p),h=n("T8g3"),m=n.n(h),b=n("8qar"),v=n.n(b),y=n("UutA"),g=n("y6OP"),_=n("pLh7"),C=(n("RQuD"),n("/m4v")),O=n("2W1i"),k=n.n(O),x=n("bgMo"),E=n("YFs1"),w=n.n(E),F=n("kxJY"),T=n.n(F),j=f.a.createElement;function B(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var N=y.default.div.withConfig({displayName:"InitialChatBot__StyledChatBot",componentId:"sc-1mhwjtx-0"})([".chatbot{&__close{position:fixed;bottom:110px;right:90px;cursor:pointer;border:none;background:transparent;color:",";}&__show{background:",";display:inline-block;padding:8px 40px;border-radius:4px 0 0 0;color:",";font-size:14px;position:fixed;bottom:0;right:120px;cursor:pointer;}}"],g.a.primary,g.a.primary,g.a.white),S={headerBackground:"linear-gradient(86.7deg, #9C1515FF 0.85%, #830D56FF 98.94%)",headerTextColor:"#ffffffff",headerLogoEnable:!1,headerLogoLink:"",headerText:"Tr\xf2 chuy\u1ec7n c\xf9ng Tika",primaryColor:"#CEBB79FF",secondaryColor:"#FFFFFFFF",primaryTextColor:"#FAFAFAFF",secondaryTextColor:"#C20404DE",buttonColor:"#FAF3F3FF",buttonTextColor:"#9C7E48FF",bodyBackgroundEnable:!0,bodyBackgroundLink:"https://i.imgur.com/ipjJU2H.png",avatarBot:"https://i.imgur.com/SbCzsly.png",sendMessagePlaceholder:"Nh\u1eadp tin nh\u1eafn",floatButtonLogo:"https://i.imgur.com/bMRETYa.jpg",floatButtonTooltip:"Tiki c\xf3 th\u1ec3 h\u1ed7 tr\u1ee3 g\xec cho b\u1ea1n?",floatButtonTooltipEnable:!1,customerLogo:"https://i.imgur.com/0K855hn.png",customerWelcomeText:"\u0110i\u1ec1n t\xean c\u1ee7a b\u1ea1n",customerButtonText:"B\u1eaft \u0111\u1ea7u",prefixEnable:!0,prefixType:"radio",prefixOptions:["Anh","Ch\u1ecb"],prefixPlaceholder:"Danh x\u01b0ng",css:""},P=function(t){Object(s.a)(n,t);var e=B(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,u=new Array(r),s=0;s<r;s++)u[s]=arguments[s];return(t=e.call.apply(e,[this].concat(u))).state={pathArr:["/sales/order/history","/customer/account/edit","/customer/account/edit/pass","/customer/account/edit/phone","/customer/account/edit/email","/customer/notification","/nhan-xet-san-pham-ban-da-mua","/danh-rieng-cho-ban","/customer/save_for_later","/customer/review","/customer/bookcare","/customer/address","/customer/paymentcard","/customer/productquestion"],isHide:!1,isSupport:!1},t.autoLoginChatbot=Object(i.a)(a.a.mark((function e(){var n,o,r,i,c,u,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props||{},o=n.loginChatbot,r=n.chatbotParams,c=(i=r||{}).chat_params,u=i.use_token,s=k.a.getJSON("TOKENS").access_token||"",u){e.next=6;break}return t.initialChatBot(),e.abrupt("return");case 6:o({data:{senderId:c.senderId,token:s},callback:function(e){t.chatParams=c,t.initialChatBot()},handleError:function(e){t.initialChatBot()}});case 7:case"end":return e.stop()}}),e)}))),t.getCustomStyle=function(t){try{var e=decodeURIComponent(t),n={},o=e.slice(e.indexOf("?")+1).split("&");return T()(o,(function(t,e){var o=t.split("=");n[o[0]]=o[1]})),JSON.parse(null===n||void 0===n?void 0:n.styles)}catch(r){return{}}},t.initialChatBot=function(){var e,n,r,a,i=document.location.protocol+"//livechat.fpt.ai/v36/src",c=(t.props||{}).chatbotParams,u=((void 0===c?{}:c)||{}).chatbot_url,s=void 0===u?"":u,l=t.getCustomStyle(s),d={appCode:"8e90ffe36eddd6bf26f3f87058834ef3",themes:"",styles:w()(l)?S:l,appName:"Tiki",icon_bot:"https://salt.tikicdn.com/ts/upload/f1/a5/20/a9f1aeff49e9b6bec99246ed9e693517.png",logo_button:"https://salt.tikicdn.com/ts/upload/f1/a5/20/a9f1aeff49e9b6bec99246ed9e693517.png",useClientSenderInfo:null===(e=t.chatParams)||void 0===e?void 0:e.useClientSenderInfo,senderId:null===(n=t.chatParams)||void 0===n?void 0:n.senderId,senderName:null===(r=t.chatParams)||void 0===r?void 0:r.senderName,senderToken:null===(a=t.chatParams)||void 0===a?void 0:a.senderToken},p=window.location.hash.substr(1);32==p.length&&(d.appCode=p);var f=document.createElement("script");f.id="fpt_ai_livechat_script",f.src=i+"/static/fptai-livechat.js",document.body.appendChild(f);var h=document.createElement("link");h.id="fpt_ai_livechat_script",h.rel="stylesheet",h.href=i+"/static/fptai-livechat.css",document.body.appendChild(h);var m={background:"linear-gradient(0deg, #faf3f2, #faf3f2 25%, #e2f2f6 50%, #cef1fa 75%, #cef1fa) !important",width:"120px !important",height:"120px !important",right:"120px !important",bottom:"5px !important","z-index":"1499 !important"},b={"margin-top":"8px",width:"100px !important",height:"100px !important"},v={height:"0px"};f.onload=function(){fpt_ai_render_chatbox(d,i,"livechat.fpt.ai:443");var t=document.getElementById("fpt_ai_livechat_button"),e=document.querySelector("#fpt_ai_livechat_button img"),n=document.getElementById("fpt_ai_livechat_button_tooltip");y(t,m),y(e,b),y(n,v)};var y=function(t,e){t.setAttribute("style",function(t){return Object.entries(t).map((function(t){var e=Object(o.a)(t,2),n=e[0],r=e[1];return"".concat(n,": ").concat(r)})).join(";")}(e))}},t.handleHideChatBot=function(){var e=window.document.getElementById("fpt_ai_livechat_button");t.setState({isHide:!t.state.isHide},(function(){t.state.isHide?e.style.display="none":e.style.display="block"}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=window.document.getElementById("fpt_ai_livechat_button");v()().get("hour"),v()().get(24);-1!==m()(this.state.pathArr,window.location.pathname)?(this.setState({isSupport:!0}),null===t?this.autoLoginChatbot():t.style.display="block"):null!==t&&(t.style.display="none")}},{key:"render",value:function(){var t=this.state,e=t.isHide,n=t.isSupport;return j(N,null,n&&j("div",{className:"chatbot"},e?j("div",{className:"chatbot-hide"},j("span",{className:"chatbot__show",onClick:this.handleHideChatBot},"Hi\u1ec7n Chat Bot")):j("button",{className:"chatbot__close",onClick:this.handleHideChatBot},j(_.h,{size:30}))))}}]),n}(p.Component);var I={loginChatbot:x.f};e.default=Object(C.b)((function(t){return{chatbotParams:t.desktop.app.chatbotParams}}),I)(P)},T8g3:function(t,e,n){var o=n("ofiy"),r=n("LF0y"),a=Math.max;t.exports=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var c=null==n?0:r(n);return c<0&&(c=a(i+c,0)),o(t,e,c)}},bgMo:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return d}));var o=n("Qi1R"),r="APP",a=function(){return{type:"".concat(r,"_FETCH_CUSTOMER_INFO"),promise:Object(o.a)({url:"/v2/me"})}},i=function(){return{type:"".concat(r,"_FETCH_CART_ITEM_QTY"),promise:Object(o.a)({url:"v2/carts/mine/info"})}},c=function(t){return{type:"".concat(r,"_WEB_PERFORMANCE"),payload:t}},u=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"".concat(r,"_FETCH_WEB_CONFIG"),promise:Object(o.a)({baseURL:t?"http://zorba.tiki.services":"https://tiki.vn/api/shopping",url:"v2/web/remote/config"},t)}},s=function(){return{type:"".concat(r,"_LOG_COOKIE_SIZE")}},l=function(){return{type:"".concat(r,"_CHATBOT_TOKEN"),promise:Object(o.a)({url:"v2/me/chatbot/token"})}},d=function(t){var e=t.data,n=t.callback,a=t.handleError;return{type:"".concat(r,"_LOGIN_CHATBOT"),promise:Object(o.a)({method:"GET",baseURL:"https://api.tiki.vn",url:"/tc-chatbot/tikichatbot/login?data=".concat(null===e||void 0===e?void 0:e.senderId,"@livechat&token=").concat(null===e||void 0===e?void 0:e.token)}),callback:n,handleError:a}}},eHG4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("mXGw"),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=o.createContext&&o.createContext(r),i=function(){return(i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},c=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n};function u(t){return t&&t.map((function(t,e){return o.createElement(t.tag,i({key:e},t.attr),u(t.child))}))}function s(t){return function(e){return o.createElement(l,i({attr:i({},t.attr)},e),u(t.child))}}function l(t){var e=function(e){var n,r=t.size||e.size||"1em";e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className);var a=t.attr,u=t.title,s=c(t,["attr","title"]);return o.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,a,s,{className:n,style:i({color:t.color||e.color},e.style,t.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),u&&o.createElement("title",null,u),t.children)};return void 0!==a?o.createElement(a.Consumer,null,(function(t){return e(t)})):e(r)}},uEoR:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("7CRm");var r=n("UMlT"),a=n("qghH");function i(t,e){return Object(o.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(u){r=!0,a=u}finally{try{o||null==c.return||c.return()}finally{if(r)throw a}}return n}}(t,e)||Object(r.a)(t,e)||Object(a.a)()}}}]);